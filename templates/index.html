{% extends "base.html" %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">

    
    {% for post in posts %}
        <div class="article">
            <h3>{{ post.title }}</h3>
            <small>Publié le {{ post.date_posted.strftime('%d %b %Y') }}</small>
            <p>{{ post.content[:100] }}...</p>  <!-- Extrait du contenu -->
            <a href="{{ url_for('post_detail', post_id=post.id) }}" class="btn btn-primary">Lire la suite</a>
            <a href="{{ url_for('edit_post', post_id=post.id) }}" class="btn btn-secondary">Modifier</a>
            <form method="POST" action="{{ url_for('delete_post', post_id=post.id) }}" style="display: inline;">
                <button type="submit" class="btn btn-danger" onclick="return confirm('Êtes-vous sûr de vouloir supprimer cet article ?');">Supprimer</button>
            </form>
            <hr>
        </div>
    {% endfor %}
{% endblock %}
